import { createSocketServer } from './socket-server'

////////////////////////////////////////////////////////////////////////////////
// mocks
////////////////////////////////////////////////////////////////////////////////
const onAuthorize = 'onAuthorize' as any
const onConnect = 'onConnect' as any
const sendToRoom = 'sendToRoom' as any
const sendToUser = 'sendToUser' as any
const socketPort = 123

////////////////////////////////////////////////////////////////////////////////
// setup
////////////////////////////////////////////////////////////////////////////////
const socketServer = createSocketServer(
  onAuthorize,
  onConnect,
  sendToRoom,
  sendToUser,
  socketPort
)

////////////////////////////////////////////////////////////////////////////////
// tests
////////////////////////////////////////////////////////////////////////////////
test('sendToRoom and sendToUser should be public', () => {
  expect(socketServer.sendToRoom).toBe('sendToRoom')
  expect(socketServer.sendToUser).toBe('sendToUser')
})
