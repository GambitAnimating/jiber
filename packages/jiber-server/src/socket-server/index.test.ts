import { createSocketServer } from './index'
import { defaultServerSettings } from '../default-server-settings'

////////////////////////////////////////////////////////////////////////////////
// mocks
////////////////////////////////////////////////////////////////////////////////
const store: any = {
  getState: () => { /* do nothing */ },
  settings: { ...defaultServerSettings }
}

////////////////////////////////////////////////////////////////////////////////
// tests
////////////////////////////////////////////////////////////////////////////////
test('it should give us a nice public interface', () => {
  const socketServer = createSocketServer(store)
  expect(socketServer.start).toBeTruthy()
  expect(socketServer.sendToUser).toBeTruthy()
  expect(socketServer.sendToDoc).toBeTruthy()
})
